[gd_scene format=4 uid="uid://cymg5sbxbh4nw"]

[ext_resource type="PackedScene" uid="uid://cid3qaobs3ypt" path="res://components/GameCamera.tscn" id="1_6vs76"]
[ext_resource type="PackedScene" uid="uid://3pacq544ybt0" path="res://ui/PauseMenu.tscn" id="1_uhqny"]
[ext_resource type="Texture2D" uid="uid://bet3wuiw4nwei" path="res://icon.svg" id="3_6vs76"]
[ext_resource type="Script" uid="uid://cd2ims6ediyc3" path="res://scenes/protoplayer.gd" id="3_kl8ac"]
[ext_resource type="Texture2D" uid="uid://rryq2wyg1i5" path="res://assets/graphics/prototiles.png" id="4_rccsh"]
[ext_resource type="Texture2D" uid="uid://cxkmivou3isxw" path="res://assets/graphics/protolight.png" id="6_4qegb"]
[ext_resource type="Texture2D" uid="uid://5f4ymbvqd3cu" path="res://assets/player/background.png" id="6_dke22"]
[ext_resource type="Texture2D" uid="uid://b2if3ypviexed" path="res://assets/graphics/2d_lights_and_shadows_neutral_point_light.webp" id="6_faw0r"]
[ext_resource type="Script" uid="uid://1e0qegviwjpk" path="res://scenes/flashlight.gd" id="7_2eouu"]
[ext_resource type="Script" uid="uid://4c4a0bscw8bd" path="res://scenes/proto_enemy.gd" id="8_faw0r"]
[ext_resource type="Script" uid="uid://b4ms1ksadvnjx" path="res://scenes/exit_area.gd" id="11_ax7ne"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_rccsh"]
polygon = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ax7ne"]
texture = ExtResource("4_rccsh")
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_rccsh")
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_sv41r"]
occlusion_layer_0/light_mask = 1
occlusion_layer_0/sdf_collision = true
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/1 = SubResource("TileSetAtlasSource_ax7ne")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ax7ne"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kl8ac"]
size = Vector2(10, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4qegb"]
size = Vector2(10, 10)

[sub_resource type="CircleShape2D" id="CircleShape2D_faw0r"]
radius = 90.199776

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2eouu"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rccsh"]

[node name="Level" type="Node2D" unique_id=2102193702]

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=349377050]
position = Vector2(352, 150.00002)
scale = Vector2(2.003125, 1.9944445)
texture = ExtResource("6_dke22")

[node name="PauseMenu" parent="." unique_id=1896189009 instance=ExtResource("1_uhqny")]
visible = false

[node name="CanvasModulate" type="CanvasModulate" parent="." unique_id=1857209908]
color = Color(0.033853278, 0.033853278, 0.033853274, 1)

[node name="TileMapLayer" type="TileMapLayer" parent="." unique_id=1629812906]
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAFAAEAAQAAAAAAAAAGAAEAAQAAAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQAAAAAAAAAGAAQAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAIAAUAAQAAAAAAAAAIAAQAAQAAAAAAAAAJAAQAAQAAAAAAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAKAAYAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAAAAAAAAAMAAcAAQAAAAAAAAANAAcAAQAAAAAAAAANAAYAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAUAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAQAAQAAAAAAAAAQAAQAAQAAAAAAAAARAAQAAQAAAAAAAAASAAQAAQAAAAAAAAATAAQAAQAAAAAAAAATAAUAAQAAAAAAAAAUAAUAAQAAAAAAAAAUAAYAAQAAAAAAAAAVAAYAAQAAAAAAAAAVAAcAAQAAAAAAAAAWAAcAAQAAAAAAAAAWAAgAAQAAAAAAAAAWAAkAAQAAAAAAAAAWAAoAAQAAAAAAAAAVAAsAAQAAAAAAAAAVAAwAAQAAAAAAAAAUAAwAAQAAAAAAAAAUAA0AAQAAAAAAAAATAA0AAQAAAAAAAAATAA4AAQAAAAAAAAASAA4AAQAAAAAAAAASAA8AAQAAAAAAAAARAA8AAQAAAAAAAAAQAA8AAQAAAAAAAAAPAA8AAQAAAAAAAAAOAA8AAQAAAAAAAAAOAA4AAQAAAAAAAAANAA4AAQAAAAAAAAANAA0AAQAAAAAAAAANAA8AAQAAAAAAAAANABAAAQAAAAAAAAAMABAAAQAAAAAAAAAMABEAAQAAAAAAAAAMABIAAQAAAAAAAAANABIAAQAAAAAAAAAOABIAAQAAAAAAAAAPABEAAQAAAAAAAAAQABEAAQAAAAAAAAARABEAAQAAAAAAAAASABEAAQAAAAAAAAATABEAAQAAAAAAAAATABAAAQAAAAAAAAAUABAAAQAAAAAAAAAUAA8AAQAAAAAAAAAVAA8AAQAAAAAAAAAVAA4AAQAAAAAAAAAWAA4AAQAAAAAAAAAWAA0AAQAAAAAAAAAXAA0AAQAAAAAAAAAXAAwAAQAAAAAAAAAYAAwAAQAAAAAAAAAYAAsAAQAAAAAAAAAZAAsAAQAAAAAAAAAZAAoAAQAAAAAAAAAZAAkAAQAAAAAAAAAZAAgAAQAAAAAAAAAZAAcAAQAAAAAAAAAZAAYAAQAAAAAAAAAZAAUAAQAAAAAAAAAZAAQAAQAAAAAAAAAaAAQAAQAAAAAAAAAbAAQAAQAAAAAAAAAcAAUAAQAAAAAAAAAdAAUAAQAAAAAAAAAdAAYAAQAAAAAAAAAeAAYAAQAAAAAAAAAeAAcAAQAAAAAAAAAfAAgAAQAAAAAAAAAfAAkAAQAAAAAAAAAfAAoAAQAAAAAAAAAeAAoAAQAAAAAAAAAeAAsAAQAAAAAAAAAeAAwAAQAAAAAAAAAeAA0AAQAAAAAAAAAdAA0AAQAAAAAAAAAdAA4AAQAAAAAAAAAcAA4AAQAAAAAAAAAcAA8AAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAcAAQAAAAAAAAAIAAgAAQAAAAAAAAAIAAkAAQAAAAAAAAAIAAoAAQAAAAAAAAAJAAoAAQAAAAAAAAAJAAsAAQAAAAAAAAAJAAwAAQAAAAAAAAAJAA0AAQAAAAAAAAAKAA0AAQAAAAAAAAAKAA4AAQAAAAAAAAAJAA4AAQAAAAAAAAAJAA8AAQAAAAAAAAADAA0AAQAAAAAAAAADAA4AAQAAAAAAAAADAA8AAQAAAAAAAAADABAAAQAAAAAAAAAEABAAAQAAAAAAAAAEABEAAQAAAAAAAAAEABIAAQAAAAAAAAAFABIAAQAAAAAAAAAFABMAAQAAAAAAAAAGABMAAQAAAAAAAAAHABMAAQAAAAAAAAAIABMAAQAAAAAAAAAJABMAAQAAAAAAAAAJABQAAQAAAAAAAAAKABQAAQAAAAAAAAALABQAAQAAAAAAAAAMABQAAQAAAAAAAAANABQAAQAAAAAAAAAOABQAAQAAAAAAAAAPABQAAQAAAAAAAAAQABQAAQAAAAAAAAARABQAAQAAAAAAAAASABQAAQAAAAAAAAATABQAAQAAAAAAAAAUABQAAQAAAAAAAAAVABQAAQAAAAAAAAAWABQAAQAAAAAAAAAXABQAAQAAAAAAAAAYABQAAQAAAAAAAAAYABMAAQAAAAAAAAAZABMAAQAAAAAAAAAaABMAAQAAAAAAAAAbABMAAQAAAAAAAAAbABIAAQAAAAAAAAAcABIAAQAAAAAAAAAcABEAAQAAAAAAAAAcABAAAQAAAAAAAAADAAwAAQAAAAAAAAADAAsAAQAAAAAAAAADAAoAAQAAAAAAAAACAAoAAQAAAAAAAAACAAkAAQAAAAAAAAACAAgAAQAAAAAAAAADAAgAAQAAAAAAAAADAAcAAQAAAAAAAAAEAAcAAQAAAAAAAAAEAAYAAQAAAAAAAAAFAAYAAQAAAAAAAAAFAAUAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_sv41r")

[node name="ProtoPlayer" type="CharacterBody2D" parent="." unique_id=1889038084 groups=["player"]]
position = Vector2(241, 178)
motion_mode = 1
script = ExtResource("3_kl8ac")
speed = 50.0

[node name="Hitbox2" type="Area2D" parent="ProtoPlayer" unique_id=985528661]
unique_name_in_owner = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="ProtoPlayer/Hitbox2" unique_id=230212317]
shape = SubResource("RectangleShape2D_ax7ne")

[node name="GameCamera" parent="ProtoPlayer" unique_id=384377673 instance=ExtResource("1_6vs76")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ProtoPlayer" unique_id=593748876]
shape = SubResource("RectangleShape2D_kl8ac")

[node name="Sprite2D" type="Sprite2D" parent="ProtoPlayer" unique_id=1767725698]
scale = Vector2(0.1, 0.1)
texture = ExtResource("3_6vs76")

[node name="PointLight2D2" type="PointLight2D" parent="ProtoPlayer" unique_id=1012956993]
scale = Vector2(0.2, 0.2)
shadow_enabled = true
texture = ExtResource("6_faw0r")

[node name="Flashlight" type="Area2D" parent="ProtoPlayer" unique_id=1718122508]
script = ExtResource("7_2eouu")

[node name="PointLight2D" type="PointLight2D" parent="ProtoPlayer/Flashlight" unique_id=955668634]
rotation = 1.5707964
shadow_enabled = true
shadow_color = Color(0.37036464, 0.37036443, 0.37036446, 0)
shadow_filter_smooth = 2.0
texture = ExtResource("6_4qegb")
offset = Vector2(0, -48)
texture_scale = 2.0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ProtoPlayer/Flashlight" unique_id=507604704]
position = Vector2(16, -6)
polygon = PackedVector2Array(0, -1, 11, -3, 28, -5, 49, -7, 55, -7, 59, 0, 59, 12, 57, 19, 49, 19, 28, 18, 10, 16, 0, 14)

[node name="ProtoEnemy" type="CharacterBody2D" parent="." unique_id=462394550]
position = Vector2(110, 220)
script = ExtResource("8_faw0r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ProtoEnemy" unique_id=159839860]
shape = SubResource("RectangleShape2D_4qegb")

[node name="Sprite2D" type="Sprite2D" parent="ProtoEnemy" unique_id=2092727492]
modulate = Color(1, 0, 0, 1)
scale = Vector2(0.1, 0.1)
texture = ExtResource("3_6vs76")

[node name="AttentionArea" type="Area2D" parent="ProtoEnemy" unique_id=1691876209]
unique_name_in_owner = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="ProtoEnemy/AttentionArea" unique_id=2003388309]
shape = SubResource("CircleShape2D_faw0r")

[node name="Hitbox" type="Area2D" parent="ProtoEnemy" unique_id=1165154934]
unique_name_in_owner = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="ProtoEnemy/Hitbox" unique_id=2031133747]
shape = SubResource("RectangleShape2D_2eouu")

[node name="ExitArea" type="Area2D" parent="." unique_id=1431506650]
position = Vector2(447, 151)
collision_mask = 0
script = ExtResource("11_ax7ne")

[node name="PointLight2D" type="PointLight2D" parent="ExitArea" unique_id=1967476816]
texture = ExtResource("6_faw0r")
texture_scale = 0.5

[node name="CollisionShape2D" type="CollisionShape2D" parent="ExitArea" unique_id=1514093885]
shape = SubResource("RectangleShape2D_rccsh")
